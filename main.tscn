[gd_scene load_steps=12 format=3 uid="uid://jeth6hp8pbu3"]

[ext_resource type="Theme" uid="uid://bb74rah8n7o5x" path="res://Theme.tres" id="1_1bvp3"]
[ext_resource type="PackedScene" uid="uid://8h3hxuwkofx6" path="res://Arena.tscn" id="1_ig7tw"]
[ext_resource type="PackedScene" uid="uid://dhhhsdiubg8h" path="res://FallingBlocks/fallingBlockScene.tscn" id="2_0xm2m"]
[ext_resource type="Script" uid="uid://drign7lf3nhos" path="res://FallingBlocks/Scripts/camera_orbiting.gd" id="3_h2yge"]

[sub_resource type="ViewportTexture" id="ViewportTexture_0xm2m"]
viewport_path = NodePath("2D")

[sub_resource type="ViewportTexture" id="ViewportTexture_1bvp3"]
viewport_path = NodePath("3Dcam")

[sub_resource type="ViewportTexture" id="ViewportTexture_lquwl"]
viewport_path = NodePath("3D")

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_0x1ws"]
in_3d_space = true

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_qobxd"]
panorama = SubResource("NoiseTexture2D_0x1ws")

[sub_resource type="Sky" id="Sky_d73qp"]
sky_material = SubResource("PanoramaSkyMaterial_qobxd")

[sub_resource type="Environment" id="Environment_dprjx"]
background_mode = 2
background_color = Color(1, 1, 1, 1)
background_energy_multiplier = 9.15
sky = SubResource("Sky_d73qp")
ambient_light_source = 1
tonemap_mode = 3
glow_enabled = true
glow_normalized = true
glow_intensity = 0.29
glow_strength = 0.0
glow_bloom = 1.0
fog_enabled = true
fog_light_color = Color(0, 0.629484, 0, 1)
fog_light_energy = 0.36
fog_sun_scatter = 0.75
fog_density = 0.0
fog_height_density = 0.8163

[node name="Main" type="Node2D"]

[node name="Control" type="PanelContainer" parent="."]
offset_right = 720.0
offset_bottom = 720.0
size_flags_horizontal = 3
size_flags_vertical = 3
theme = ExtResource("1_1bvp3")

[node name="HBoxContainer" type="HBoxContainer" parent="Control"]
layout_mode = 2

[node name="Arena" type="TextureRect" parent="Control/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
texture = SubResource("ViewportTexture_0xm2m")

[node name="VBoxContainer" type="VBoxContainer" parent="Control/HBoxContainer"]
layout_mode = 2

[node name="topCamera" type="TextureRect" parent="Control/HBoxContainer/VBoxContainer"]
layout_mode = 2
texture = SubResource("ViewportTexture_1bvp3")

[node name="sideCamera" type="TextureRect" parent="Control/HBoxContainer/VBoxContainer"]
layout_mode = 2
texture = SubResource("ViewportTexture_lquwl")

[node name="2D" type="SubViewport" parent="."]
size = Vector2i(876, 714)

[node name="Arena" parent="2D" instance=ExtResource("1_ig7tw")]

[node name="3D" type="SubViewport" parent="."]
size = Vector2i(400, 450)

[node name="FallingBlocksScene" parent="3D" instance=ExtResource("2_0xm2m")]

[node name="Camera" type="Node3D" parent="3D"]
transform = Transform3D(0.707107, -0.121949, 0.696512, 0, 0.985016, 0.172462, -0.707107, -0.121949, 0.696512, 5.09455, 5.64783, 5.97738)

[node name="Camera3D" type="Camera3D" parent="3D/Camera"]
transform = Transform3D(1, 0, 0, 0, 1, 5.96046e-08, 0, 0, 1, 1, -1.325, -0.232)
current = true
script = ExtResource("3_h2yge")
distance = 5.0
height = 8.0
speed = 0.25

[node name="3Dcam" type="SubViewport" parent="."]
size = Vector2i(400, 260)

[node name="topCamera" type="Camera3D" parent="3Dcam"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 1000, -0.051)
environment = SubResource("Environment_dprjx")
projection = 1
current = true
fov = 37.8493
size = 7.316
